DROP DATABASE fapee;
CREATE DATABASE fapee;
USE fapee;

CREATE TABLE FP_User (
  idKey BIGINT NOT NULL AUTO_INCREMENT,
  userId VARCHAR(30) NOT NULL,
  password VARCHAR(1024) NULL,
  userType CHAR(1) NOT NULL,
  userName VARCHAR(200) NULL,
  mobileNumber VARCHAR(20) NULL,
  email VARCHAR(100) NULL,
  loginTotalCount BIGINT NULL,
  loginFailCount INT NULL,
  lastLoginDate DATETIME NULL,
  joinDate DATETIME NULL,
  loginIp VARCHAR(50) NULL,
  snsType VARCHAR(20) NULL,
  snsId VARCHAR(1024) NULL,
  deviceId VARCHAR(100) NULL,
  status CHAR(1) NULL,
  PRIMARY KEY (idKey)
);
CREATE INDEX idx_userId_FP_User ON FP_User(userId);
CREATE INDEX idx_userType_FP_User ON FP_User(userType);

CREATE TABLE FP_Notice (
  idKey BIGINT NOT NULL AUTO_INCREMENT,
  userIdKey BIGINT NULL,
  createDate DATETIME NULL,
  title VARCHAR(200) NULL,
  content text NULL,
  viewCount INT NULL,
  startDate DATETIME NULL,
  endDate DATETIME NULL,
  PRIMARY KEY (idKey)
);
CREATE INDEX idx_startDate_FP_Notice ON FP_Notice(startDate);
CREATE INDEX idx_endDate_FP_Notice ON FP_Notice(endDate);

CREATE TABLE FP_UserFilter (
  idKey BIGINT NOT NULL AUTO_INCREMENT,
  deviceId VARCHAR(100) NULL,
  userIdKey BIGINT NULL,
  gender CHAR(1) NULL,
  country VARCHAR(20) NULL,
  PRIMARY KEY (idKey)
);
CREATE INDEX idx_userIdKey_FP_UserFilter ON FP_UserFilter(userIdKey);
CREATE INDEX idx_deviceId_FP_UserFilter ON FP_UserFilter(deviceId);

CREATE TABLE FP_ChooseStyle (
  userFilterIdKey BIGINT NOT NULL,
  favoriteStyleIdKey BIGINT NOT NULL 
);

CREATE TABLE FP_FavoriteStyle (
  idKey BIGINT NOT NULL AUTO_INCREMENT,
  seq INT NOT NULL,
  style VARCHAR(20) NOT NULL,
  PRIMARY KEY (idKey)
);
