<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<div class="wrap" id="wrap">
    <div id="contain" class="contain contain myinfo">
        <div class="pageHd">
            <div class="in">
                <div class="bts">
                    <a href="javascript:history.back();" class="bt hisback">뒤로</a>
                </div>
            </div>
        </div>
        <main id="contents" class="contents">
            <div class="joinForm">
                <div class="hdt"><em>SIGN UP</em></div>
                <article data-v-6121bcf1="" data-v-9c5ddf94="" class="join-agree">
                    <div data-v-6121bcf1="" class="join-agree__header">
                        <div data-v-6121bcf1="" class=""> 소매용_이용약관, 개인정보 수집 및 이용, 마케팅 정보 수신에 모두 동의합니다.
                        </div>
                        <label class="checkbox"><span></span><input type="checkbox"></label>
                        <div data-v-6121bcf1="">
                            <button data-v-adac01a6="" data-v-6121bcf1="" type="button" class="check-box-container">
                                <div data-v-adac01a6="" class="click-area">
                                    <div data-v-adac01a6="" class="check-box">
                                        <div data-v-adac01a6="" class="check-img" style="display: none;"><img
                                                data-v-adac01a6="" src="/img/btn-checkbox-s.a720c3c0.svg"></div>
                                        <img data-v-adac01a6="" src="/img/ic-check-gray-300-24-n.29569cd1.svg"
                                             style="position: absolute; top: -2px; left: -2px;"></div>
                                </div>
                            </button>
                        </div>
                    </div>
                    <div data-v-6121bcf1="" class="join-agree__contents">
                        <div data-v-6121bcf1="" class="contents">
                            <div data-v-6121bcf1="" class="contents-agree">
                                <div data-v-6121bcf1="" class=""> 이용약관 동의<span data-v-6121bcf1=""
                                                                               class="required">(필수)</span></div>
                                <div data-v-6121bcf1="" class="contents-agree__check">
                                    <div data-v-6121bcf1="" class="read-terms"> 약관보기 <img data-v-6121bcf1=""
                                                                                          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAAXNSR0IArs4c6QAAADtJREFUCB1jNDY2XsDAwBAPxMhgIROQlwXE15BEQewsprNnz35jYWEJBXK+gTCIDRKDKzQ1NU0AYZgAANe0ECWGZw5GAAAAAElFTkSuQmCC"
                                                                                          alt="더보기"
                                                                                          class="read-terms__icon">
                                    </div>
                                    <button data-v-adac01a6="" data-v-6121bcf1="" type="button"
                                            class="check-box-container">
                                        <div data-v-adac01a6="" class="click-area">
                                            <div data-v-adac01a6="" class="check-box">
                                                <div data-v-adac01a6="" class="check-img" style="display: none;"><img
                                                        data-v-adac01a6="" src="/img/btn-checkbox-s.a720c3c0.svg"></div>
                                                <img data-v-adac01a6="" src="/img/ic-check-gray-300-24-n.29569cd1.svg"
                                                     style="position: absolute; top: -2px; left: -2px;"></div>
                                        </div>
                                    </button>
                                </div>
                            </div><!----></div>
                        <div data-v-6121bcf1="" class="contents">
                            <div data-v-6121bcf1="" class="contents-agree">
                                <div data-v-6121bcf1="" class=""> 개인정보 수집 및 이용 동의<span data-v-6121bcf1=""
                                                                                       class="required">(필수)</span>
                                </div>
                                <div data-v-6121bcf1="" class="contents-agree__check">
                                    <div data-v-6121bcf1="" class="read-terms"> 약관보기 <img data-v-6121bcf1=""
                                                                                          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAAXNSR0IArs4c6QAAADtJREFUCB1jNDY2XsDAwBAPxMhgIROQlwXE15BEQewsprNnz35jYWEJBXK+gTCIDRKDKzQ1NU0AYZgAANe0ECWGZw5GAAAAAElFTkSuQmCC"
                                                                                          alt="더보기"
                                                                                          class="read-terms__icon">
                                    </div>
                                    <button data-v-adac01a6="" data-v-6121bcf1="" type="button"
                                            class="check-box-container">
                                        <div data-v-adac01a6="" class="click-area">
                                            <div data-v-adac01a6="" class="check-box">
                                                <div data-v-adac01a6="" class="check-img" style="display: none;"><img
                                                        data-v-adac01a6="" src="/img/btn-checkbox-s.a720c3c0.svg"></div>
                                                <img data-v-adac01a6="" src="/img/ic-check-gray-300-24-n.29569cd1.svg"
                                                     style="position: absolute; top: -2px; left: -2px;"></div>
                                        </div>
                                    </button>
                                </div>
                            </div><!----></div>
                        <div data-v-6121bcf1="" class="contents">
                            <div data-v-6121bcf1="" class="contents-agree">
                                <div data-v-6121bcf1="" class=""> 신상&amp;이벤트 정보 SMS/Email 수신 동의<span data-v-6121bcf1=""
                                                                                                     class="required">(선택)</span>
                                </div>
                                <button data-v-adac01a6="" data-v-6121bcf1="" type="button" class="check-box-container">
                                    <div data-v-adac01a6="" class="click-area">
                                        <div data-v-adac01a6="" class="check-box">
                                            <div data-v-adac01a6="" class="check-img" style="display: none;"><img
                                                    data-v-adac01a6="" src="/img/btn-checkbox-s.a720c3c0.svg"></div>
                                            <img data-v-adac01a6="" src="/img/ic-check-gray-300-24-n.29569cd1.svg"
                                                 style="position: absolute; top: -2px; left: -2px;"></div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </article>
                <div class="form">
                    <!-- <div class="memcate">
                        <label class="radio"><input type="radio" name="memcate1" checked="checked"><span>일반회원</span></label>
                        <label class="radio"><input type="radio" name="memcate1"><span>전문가</span></label>
                    </div> -->


                    <div class="uiIptPlc userid">
                        <input type="text" class="input" id="userid" value=""  autocomplete="off" >
                        <span class="plc">ID</span>
                    </div>
                    <div class="msg_error" id="msg_existId">아이디를 입력해주세요.</div>
                    <div class="msgs">
                        아이디는 내 프로필의 고유 주소가 되며 변경이 불가합니다. <br> 아이디는 영문 및 숫자로만 입력 가능합니다.
                    </div>

                <div class="uiIptPlc pw">
                    <input type="password" class="input" id="pw" value=""  autocomplete="off" >
                    <span class="plc">PASSWORD</span>
                </div>
                <div class="msg_error" id="msg_existPw">6자이상 영문숫자조합으로 입력해주세요.</div>
                <div class="msgs">비밀번호는 6자 이상의 영문, 숫자 조합으로 입력해주세요.</div>

                <div class="uiIptPlc phone">
                    <input type="number" class="input" value="">
                    <span class="plc">휴대폰 번호</span>
                </div>

                <div class="uiIptPlc username">
                    <input type="text" class="input" value="">
                    <span class="plc">가압자명</span>
                </div>
                <div class="uiIptPlc email">
                    <input type="text" class="input valid" id="email" value="">
                    <span class="plc">E-MAIL</span>
                </div>
                <div class="msgs">이메일은 비밀번호 찾기 및 로그인시 필요합니다.</div>

                <div class="uiIptPlc company">
                    <input type="text" class="input" value="">
                    <span class="plc">회사명</span>
                </div>

                <div class="uiIptPlc comphome">
                    <input type="text" class="input" value="">
                    <span class="plc">회사전호번호</span>
                </div>
                <div class="uiIptPlc address">
                    <select class="select" name="C_store_name" id="C_store_name">
                        <option value="">매장위치</option>
                        <option value="디오트">디오트</option>
                        <option value="청평화">청평화</option>
                        <option value="누죤">누죤</option>
                        <option value="DDP 패션몰(유어스)">DDP 패션몰(유어스)</option>
                        <option value="APM">APM</option>
                        <option value="APM 럭스">APM 럭스</option>
                        <option value="APM PLACE">APM PLACE</option>
                        <option value="디자이너클럽">디자이너클럽</option>
                        <option value="퀸즈스퀘어">퀸즈스퀘어</option>
                        <option value="팀204">팀204</option>
                        <option value="제일평화">제일평화</option>
                        <option value="남평화">남평화</option>
                        <option value="동평화">동평화</option>
                        <option value="신평화">신평화</option>
                        <option value="스튜디오W">스튜디오W</option>
                        <option value="테크노">테크노</option>
                        <option value="DWP">DWP</option>
                        <option value="벨포스트">벨포스트</option>
                        <option value="해양">해양</option>
                        <option value="엘리시움">엘리시움</option>
                        <option value="맥스타일">맥스타일</option>
                        <option value="etc">기타(직접입력)</option>
                    </select>
                </div>
                <div class="uiIptPlc address2">
                    <input type="text" class="input" value="">
                    <span class="plc">회사 상세 주소</span>

                </div>
                <div class="uiIptPlc comnumber">
                    <input type="text" class="input" value="">
                    <span class="plc">사업자등록번호</span>
                </div>
                </div>
                <!--
                            <div class="uiIptPlc id">
                                <input type="number" class="input" value="">
                                <span class="plc">인증코드 </span>
                                <span class="time" style="display:none;">2:59</span>
                            </div>
                            <div class="msgcode" style="display:none;">해당 번호로 코드를 전송하였습니다.</div>
                            <div class="msg_error" id="msg_exist"></div>

                            -->

                <section class="sec style">
                    <div class="hdt"><em>취급 품목 선택해 주세요</em></div>
                    <div class="ct">
                        <ul class="list">
                            <c:forEach var="item" items="${productType}">
                                <li class="style">

                                    <label>
                                        <input type="checkbox" value='<c:out value="${item.code_no}"/>'>
                                        <span class="tit"><c:out value="${item.code_nm}"/></span>
                                    </label>
                                </li>
                            </c:forEach>
                        </ul>
                    </div>
                </section>

                <section class="sec style">
                    <div class="hdt"><em>제품 스타일 선택해 주세요</em></div>
                    <div class="ct">
                        <ul class="list">
                            <c:forEach var="item" items="${styleList}">
                                <li class="style">

                                    <label>
                                        <input type="checkbox" value='<c:out value="${item.code_no}"/>'>
                                        <span class="tit"><c:out value="${item.code_nm}"/></span>
                                    </label>
                                </li>
                            </c:forEach>
                        </ul>
                    </div>
                </section>
                <div class="botFixed">
                    <div class="in">
                        <div class="btnSet fit">
                            <a href=".../home/home.jsp" class="btn xl b fill btnNext">가입신청</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>



    <script>
        $(function () {

            $('.fit a').click(function () {

                var $userid = $('.userid input').val();

                var $phone = $('.phone input').val();
                var $pw = $('.pw input').val();
                var $username = $('.username input').val();

                if (!fp.data.join) {
                    fp.data.join = {
                        deviceId: 'emsdf1-saesd-vsdaf-esdfs',
                        mobile: $phone,
                        password: $pw,
                        userId: $userid,
                        userName: $username,

                    };
                }

                var $email = $('.email input').val();

                if ($email.length === 0) {
                    $('#msg_existEmail').addClass('show');
                    $('#msg_existEmail').text('이메일을 입력해주세요.');
                    $('.email input').focus();
                    return false;
                }

                if (!fp.util.checkRegEx('email', $email)) {
                    $('#msg_existEmail').addClass('show');
                    $('#msg_existEmail').text('이메일 형식을 다시 확인해주세요.');
                    $('.email input').focus();
                    return false;
                }

                fp.data.join.email = $email;
                ui.loading.show()


                fp.util.jsonAjax({
                    url: '/app/user/join_complete.do',
                    data: fp.data.join,
                    success: function (data) {
                        if (data === "t") {
                            fp.data.join = null;
                            pjax('/app/home/home.do');

                            setTimeout(function () {
                                ui.loading.hide();
                            }, 500);
                        }
                    },
                    error: function (x, s, e) {
                        console.log(x);
                    }
                });

                return false;
            });

        });
    </script>
</div>